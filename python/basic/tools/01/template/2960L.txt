enable
configure terminal

hostname SW-2960L-8TS
ip domain-name example.local

enable secret <ENABLE_SECRET>
username admin privilege 15 secret <ADMIN_PASSWORD>

line vty 0 4
 login local
 transport input ssh
 exec-timeout 10 0

line console 0
 exec-timeout 10 0
 logging synchronous

crypto key generate rsa modulus 2048

service timestamps debug datetime msec
service timestamps log datetime msec

vlan 10,247

interface Vlan99
 ip address 192.168.99.2 255.255.255.0
 no shutdown

ip default-gateway 192.168.99.1

interface GigabitEthernet0/1
 switchport trunk encapsulation dot1q
 switchport mode trunk
 switchport trunk native vlan 99
 switchport trunk allowed vlan 10,20,99
 spanning-tree portfast trunk
 spanning-tree bpduguard enable

interface range GigabitEthernet0/2 - 0/5
 switchport mode access
 switchport access vlan 10
 spanning-tree portfast
 spanning-tree bpduguard enable

interface range GigabitEthernet0/6 - 0/7
 switchport mode access
 switchport access vlan 20
 spanning-tree portfast
 spanning-tree bpduguard enable

spanning-tree mode rapid-pvst
spanning-tree extend system-id

logging buffered 16384

end
write memory
